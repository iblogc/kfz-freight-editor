# 批量修改出售中的商品运费模板脚本逻辑说明

## 软件形式：
1. 使用 python 内置的 tk，写一个 GUI 界面，左边展示日志窗口，右边展示功能操作区，参考 kfz-order-manager 项目
2. 使用nuitka打包，参考 kfz-order-manager 项目
3. 尽量少使用三方依赖以加快nuitka打包效率
4. 尽量提升nuitka打包效率

## 功能逻辑
1. 运行程序后让用户选择[商品运费修改模板]，并校验模板数据格式没问题
2. 6. 登录孔网（后续的接口请示需要带上登录拿到的 cookie）
3. 获取运费模板配置，并检查[商品运费修改模板]里的运费模板名字是否都在接口获取的运费模板配置中，检查没过中断运行，并打印错误信息
4. 循环[商品运费修改模板]里的数据，根据价格上下限获取出售中的商品列表全量数据（以 200 条一页获取），获取完成后，保存为为 {价格下限}-{价格上限}>{运费模板名字}.csv，位置为当前目录下的 YYYYMMDDHHmmss 文件夹下，只需要保存商品字段 itemId， itemSn， name， qualityName， quality， price， realPrice， mouldId， mouldName，中途有错中断运行，并打印错误信息
 5. 循环每个 csv 文件，从 csv 里每次最多取 200 条，调用[批量修改商品运费模板]接口进行批量修改运费模板，并根据响应结果把成功失败的商品在 csv 中做标记
 6.  全部运行完成后在日志里输出一个汇总情况，并保存汇总信息到YYYYMMDDHHmmss目录下的 结果.txt 里

## 附加说明：
[运费修改模板]是一个 csv 文件，格式为
| 价格下限 | 价格上限 | 运费模板名字 |
| -------- | -------- | ------------ |
| 0.01     | 5        | 3元运费模板  |
| 5.01     | 8        | 5元运费模板  |